#!/bin/bash
# Demonstration of format string pipes. Sets the xterm title and returns the
# string unchanged.
#
# Example usage:
# set status_format="mutt_xtitle '%r %f (%L) [Msgs:%?M?%M/?%m%?n? New:%n?%?d? Del:%d?%?F? Flag:%F?%?t? Tag:%t?%?p? Post:%p?%?b? Inc:%b?]'|"

if [ "$TERM" == "xterm" ]; then
	# Set the xterm title
	echo -en "\033]0;$1\007" > /dev/tty
elif [ "$TERM" == "screen" ]; then
	# Set the screen title
	DATA="$2"
	if [ -z "$DATA" ]; then
		DATA="$1"
	fi
	echo -en "\033k${DATA}\033\\" >/dev/tty
fi

echo "$1"
